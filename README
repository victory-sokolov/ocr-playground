# Fast API OCR Playground

Comparing few OCR libraries

1. [Tesseract](https://github.com/sirfz/tesserocr)
2. [EasyOCR](https://github.com/JaidedAI/EasyOCR)
3. [PaddleOCR](https://github.com/PaddlePaddle/PaddleOCR)

Image preprocessing is being done using OpenCV

## Start dev

```shell
cd ocr-app/app
make dev
```

## Generate SSL certificate to run server over https
```bash
brew install mkcert

mkdir ocr-app/app/certs && cd ocr-app/app/certs
mkcert localhost 127.0.0.1 ::1
```

## Run inside Docker

Build Dockerfile `docker build -t ocr-app .`

Run app inside Docker

```bash
docker run -p 8000:8000 -it --rm ocr-app
```

Run with Kubernetes:

1. Start minikube: `minikube start`
2. Configure your shell to use the Docker daemon inside your Minikube virtual machine `minikube docker-env`
3. Run `eval $(minikube -p minikube docker-env)`
4. Build Docker image: `docker build ./ocr-app -t localhost:5000/ocrapp --rm`
5. Start local Docker registry: `docker run -d -p 5000:5000 --restart=always --name registry registry:2`
6. Push image to local registry: `docker push localhost:5000/ocrapp`
7. Apply the Kubernetes deployment config: `kubectl apply -f deployment.yml`
